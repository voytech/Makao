package tests;
import java.io.IOException;
import java.net.ServerSocket;
import java.net.Socket;
import java.net.UnknownHostException;

import org.junit.* ;

import server.RequestsQueue;
import shared.CardStack;
import shared.Messenger;
import server.*;
import static org.junit.Assert.* ;


public class RequestsQueueTest {
	@Test
	public void testWetherCanCreateReuestQueue()
	{
		RequestsQueue queue = new RequestsQueue();
		ServerSocket socket = null;
		try {
			socket = new ServerSocket(9090);
		} catch (IOException e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		}
		Messenger messenger = null;
		try {
			messenger = new Messenger(new Socket("127.0.0.1",9090));
		} catch (UnknownHostException e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		} catch (IOException e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		}
		Socket client = null;
		try {
			client = socket.accept();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		PlayerHandle handle = new PlayerHandle(client);
		
		//We have to generate here all requests.
		//And then send them to the client.
		for (byte i =0; i<4;i++)
		{
		CardStack stack = new CardStack();
		queue.setCards(stack);
		queue.setPlayer(handle);
		}
		//queue.setPlayer(player);
		//queue.generateRequest();
		//queue.getRequest();
	}
}
