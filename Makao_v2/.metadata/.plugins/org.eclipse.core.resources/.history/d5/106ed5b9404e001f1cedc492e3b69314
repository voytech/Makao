package gui;


import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.Point;
import java.awt.Rectangle;
import java.awt.event.MouseEvent;
import java.awt.image.BufferedImage;
import java.io.File;

import client.ImagesBuffer;

import shared.Card;

public class CardNode extends ScreenItem implements IMovable,ISizeable{
	private int posX,posY,sizeX,sizeY;
    public CardNode(Card card) {
		// TODO Auto-generated constructor stub
		nestedObject = card;
		Card.Name name = card.getName();
		Card.Suit suit = card.getSuit();
		ImagesBuffer buffer = ImagesBuffer.getInstance();	     
		String relatedImageKey = null;
		if (name == Card.Name.ACE) relatedImageKey = getSuitRelatedString(suit)+"1";
		if (name == Card.Name.TWO) relatedImageKey = getSuitRelatedString(suit)+"2";
		if (name == Card.Name.THREE) relatedImageKey = getSuitRelatedString(suit)+"3";
		if (name == Card.Name.FOUR) relatedImageKey = getSuitRelatedString(suit)+"4";
		if (name == Card.Name.FIVE) relatedImageKey = getSuitRelatedString(suit)+"5";
		if (name == Card.Name.SIX) relatedImageKey = getSuitRelatedString(suit)+"6";
		if (name == Card.Name.SEVEN) relatedImageKey = getSuitRelatedString(suit)+"7";
		if (name == Card.Name.EIGHT) relatedImageKey = getSuitRelatedString(suit)+"8";
		if (name == Card.Name.NINE) relatedImageKey = getSuitRelatedString(suit)+"9";
		if (name == Card.Name.TEN) relatedImageKey = getSuitRelatedString(suit)+"10";
		if (name == Card.Name.JACK) relatedImageKey = getSuitRelatedString(suit)+"j";
		if (name == Card.Name.QUEEN) relatedImageKey = getSuitRelatedString(suit)+"q";
		if (name == Card.Name.KING) relatedImageKey = getSuitRelatedString(suit)+"k";
		image =  buffer.getEntry(relatedImageKey);	
	}
	private String getSuitRelatedString(Card.Suit suit)
	{
		if (suit.equals(Card.Suit.CLUB)) return "c";
		if (suit.equals(Card.Suit.DIAMOND)) return "d";
		if (suit.equals(Card.Suit.HEART)) return "h";
		if (suit.equals(Card.Suit.SPADE)) return "s";
		return null;
	}
	public void draw(Graphics g)
	{
		Graphics2D g2 = (Graphics2D)g;
		g2.drawImage(image,null,posX, posY);
	}
	@Override
	public void moveTo(int i, int j) {
		// TODO Auto-generated method stub
		posX = i;
		posY = j; 
	}
	@Override
	public int getXPos() {
		// TODO Auto-generated method stub
		return posX;
	}
	@Override
	public int getYPos() {
		// TODO Auto-generated method stub
		return posY;
	}
	public void mouseClicked(MouseEvent arg0) {
		Point point = arg0.getPoint();
		Rectangle rect = new Rectangle(posX,posY,image.getWidth(),image.getHeight());
		if(rect.contains(point)) System.out.println("Clicked");
	}
	@Override
	public int getHeight() {
		// TODO Auto-generated method stub
		return sizeY;
	}
	@Override
	public int getWidth() {
		// TODO Auto-generated method stub
		return sizeX;
	}
	@Override
	public void setSize(int width, int height) {
		sizeX = width;
		sizeY = height;
		
	}
	

}
