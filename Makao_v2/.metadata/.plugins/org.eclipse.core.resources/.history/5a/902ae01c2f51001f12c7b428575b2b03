package tests;
import java.io.IOException;
import java.net.ServerSocket;
import java.net.Socket;
import shared.*;
import org.junit.* ;

import server.PlayerHandle;
import static org.junit.Assert.* ;
public class ClientHandleTest {
	@Test
	public void testWetherCanReadFromClientHandle()
	{
		Packet packet = new Packet();
		packet.setMessage("Ciechu");
		Socket client = new Socket("127.0.0.1",9090);
		
		ServerSocket ssocket = null;
		try {
			ssocket = new ServerSocket(9090);
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		if (ssocket!=null)
		{
			Socket clientS = null;
			try {
				clientS = ssocket.accept();
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			if (clientS!=null)
			{
				PlayerHandle handle = new PlayerHandle(clientS);
				
				if(handle.hasPacketReceived())
				{
					Packet packet = handle.getCurrentPacket();				
				}
			}
		}
		
		//handle.getPlayerRequest();
		//handle.getPlayerInfo();
		//
		
		//handle.getCurrentPacket();
		
		
	}
}
